package com.jason.algs4ex.ch2_3;
## 题目 2.3.3 对于长度为N的数组，在Quick.sort()执行时，其最大的元素最多会被交换多少次？
## 解答

```java
        public static <T extends Comparable<T>> int partition(T[] a, int lo, int hi) {
            int i = lo, j = hi + 1;
            T v = a[lo];
            while (true) {
                while (less(a[++i], v)) {
                    if (i == hi) {
                        break;
                    }
                }
                while (less(v, a[--j])) {
                    if (j == lo) {
                        break;
                    }
                }
                if (i >= j) {
                    break;
                }
                exchange(a, i, j);
            }
            exchange(a, lo, j);
            return j;
        }
```

存在两种被交换的情况：
1. 出现在lo位置
2. 出现在错误的位置，最大元素总是出现在靠近lo的位置

要保证最多的交换次数，就需要保证每次都出现在错误的位置上，并且每次距离lo位置尽可能的近

如果距离为1，那么下次交换后就会变成情况1，不符合要求
所以最短距离应为为2

所以最多被交换的次数应为N/2

## 参考
https://stackoverflow.com/questions/43263249/number-of-largest-element-exchanges-for-quicksort

2 10 4 1 6 3 8 5 7 9

## 检验
借助Ex2_3_1，注释掉随机乱序的代码，对"2 10 4 1 6 3 8 5 7 9",进行排序，挂观察到结果如下:

```
  lo   i   j  hi   0   1   2   3   4   5   6   7   8   9
                  --------------------------------------
                   2  10   4   1   6   3   8   5   7   9
                   2  10   4   1   6   3   8   5   7   9
   0   0  10   9   2  10   4   1   6   3   8   5   7   9
   0   1  10   9   2  10   4   1   6   3   8   5   7   9
   0   1   9   9   2  10   4   1   6   3   8   5   7   9
   0   1   8   9   2  10   4   1   6   3   8   5   7   9
   0   1   7   9   2  10   4   1   6   3   8   5   7   9
   0   1   6   9   2  10   4   1   6   3   8   5   7   9
   0   1   5   9   2  10   4   1   6   3   8   5   7   9
   0   1   4   9   2  10   4   1   6   3   8   5   7   9
   0   1   3   9   2  10   4   1   6   3   8   5   7   9
                   2  10   4   1   6   3   8   5   7   9
                   2   1   4  10   6   3   8   5   7   9
   0   2   3   9   2   1   4  10   6   3   8   5   7   9
   0   2   2   9   2   1   4  10   6   3   8   5   7   9
   0   2   1   9   2   1   4  10   6   3   8   5   7   9
                   2   1   4  10   6   3   8   5   7   9
                   1   2   4  10   6   3   8   5   7   9
   2   2  10   9   1   2   4  10   6   3   8   5   7   9
   2   3  10   9   1   2   4  10   6   3   8   5   7   9
   2   3   9   9   1   2   4  10   6   3   8   5   7   9
   2   3   8   9   1   2   4  10   6   3   8   5   7   9
   2   3   7   9   1   2   4  10   6   3   8   5   7   9
   2   3   6   9   1   2   4  10   6   3   8   5   7   9
   2   3   5   9   1   2   4  10   6   3   8   5   7   9
                   1   2   4  10   6   3   8   5   7   9
                   1   2   4   3   6  10   8   5   7   9
   2   4   5   9   1   2   4   3   6  10   8   5   7   9
   2   4   4   9   1   2   4   3   6  10   8   5   7   9
   2   4   3   9   1   2   4   3   6  10   8   5   7   9
                   1   2   4   3   6  10   8   5   7   9
                   1   2   3   4   6  10   8   5   7   9
   4   4  10   9   1   2   3   4   6  10   8   5   7   9
   4   5  10   9   1   2   3   4   6  10   8   5   7   9
   4   5   9   9   1   2   3   4   6  10   8   5   7   9
   4   5   8   9   1   2   3   4   6  10   8   5   7   9
   4   5   7   9   1   2   3   4   6  10   8   5   7   9
                   1   2   3   4   6  10   8   5   7   9
                   1   2   3   4   6   5   8  10   7   9
   4   6   7   9   1   2   3   4   6   5   8  10   7   9
   4   6   6   9   1   2   3   4   6   5   8  10   7   9
   4   6   5   9   1   2   3   4   6   5   8  10   7   9
                   1   2   3   4   6   5   8  10   7   9
                   1   2   3   4   5   6   8  10   7   9
   6   6  10   9   1   2   3   4   5   6   8  10   7   9
   6   7  10   9   1   2   3   4   5   6   8  10   7   9
   6   7   9   9   1   2   3   4   5   6   8  10   7   9
   6   7   8   9   1   2   3   4   5   6   8  10   7   9
                   1   2   3   4   5   6   8  10   7   9
                   1   2   3   4   5   6   8   7  10   9
   6   8   8   9   1   2   3   4   5   6   8   7  10   9
   6   8   7   9   1   2   3   4   5   6   8   7  10   9
                   1   2   3   4   5   6   8   7  10   9
                   1   2   3   4   5   6   7   8  10   9
   8   8  10   9   1   2   3   4   5   6   7   8  10   9
   8   9  10   9   1   2   3   4   5   6   7   8  10   9
   8   9  10   9   1   2   3   4   5   6   7   8  10   9
   8   9   9   9   1   2   3   4   5   6   7   8  10   9
                   1   2   3   4   5   6   7   8  10   9
                   1   2   3   4   5   6   7   8   9  10

```